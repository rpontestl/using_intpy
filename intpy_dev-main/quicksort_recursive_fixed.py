#quicksort_recursive_fixed.py

import time

from intpy.intpy import initialize_intpy, deterministic


@deterministic
def quicksort(list):
    if len(list) <= 1:
        return list

    pivot = list[0]
    equal = [x for x in list if x == pivot]
    greater = [x for x in list if x > pivot]
    lesser = [x for x in list if x < pivot]

    return quicksort(lesser) + equal + quicksort(greater)


@initialize_intpy(__file__)
def main(unsort_list):
    print(quicksort(unsort_list))


if __name__ == "__main__":
    unsort_list = [5976, 3199, 4421, 7189, 9399, 4640, 2722, 7186, 1968, 1960, 9029, 2336, 6218, 1618, 4031, 9027, 5527, 4278, 1316, 2352, 986, 2954, 6908, 5394, 8458, 
2885, 5694, 9823, 6815, 4628, 9443, 1610, 257, 9683, 4855, 6854, 1094, 5800, 1959, 8865, 5961, 2653, 2144, 975, 9432, 2170, 4795, 2234, 9904, 6054, 
5360, 5682, 8485, 1196, 6935, 1670, 824, 7480, 198, 7183, 7685, 1632, 9952, 6504, 2478, 6157, 4824, 218, 2294, 9900, 5653, 8920, 794, 67, 1095, 1288, 
4417, 3933, 2694, 4982, 3158, 2694, 8586, 7566, 264, 2841, 7122, 6887, 9516, 7553, 3287, 9873, 8726, 7192, 2459, 1512, 5136, 5715, 2440, 301, 1016, 
2780, 5311, 3133, 2530, 8854, 919, 5837, 7007, 1953, 3349, 5942, 7503, 1661, 3961, 5292, 6433, 3440, 5779, 9337, 4972, 6101, 9297, 4258, 8540, 4039, 
2100, 1446, 5277, 6033, 9372, 2671, 1836, 479, 1176, 5410, 2183, 371, 5227, 1858, 382, 7475, 1030, 2335, 4335, 5787, 5378, 7010, 8904, 9554, 8504, 7142,
1480, 8890, 4324, 4672, 4434, 6301, 7083, 8639, 9163, 9279, 6088, 2665, 9245, 9941, 4692, 3783, 865, 9052, 6312, 2022, 7912, 8373, 3965, 1515, 2370, 
7991, 3499, 3282, 6701, 469, 5584, 9982, 9421, 9871, 7400, 4024, 6026, 9118, 7442, 2406, 6396, 3871, 5029, 8534, 3973, 6986, 6072, 3788, 876, 4641, 
3110, 4450, 3828, 7548, 9073, 4681, 7910, 7495, 7515, 1936, 7508, 7988, 1514, 1160, 5690, 97, 5372, 5820, 6172, 7657, 2312, 7557, 4052, 7562, 8952, 
2198, 8331, 6982, 8131, 3901, 399, 2656, 6645, 2731, 586, 722, 5101, 8075, 4091, 720, 3760, 4268, 5171, 9864, 2914, 1877, 1542, 3657, 7401, 7316, 
2329, 6658, 1392, 6238, 1596, 1814, 3742, 2507, 9045, 3113, 311, 1358, 7256, 9181, 7966, 689, 4112, 8975, 687, 5927, 873, 9084, 1219, 3584, 4361, 
8282, 2767, 588, 4463, 2777, 2342, 6209, 7005, 5671, 7501, 335, 3956, 469, 7285, 6547, 7897, 991, 7669, 8493, 434, 7843, 4285, 7515, 6141, 3488, 
3365, 203, 1220, 6506, 6969, 1042, 285, 8566, 4198, 6379, 5121, 7367, 9434, 5814, 414, 5092, 741, 6565, 9162, 8420, 7973, 9202, 6533, 4, 8286, 167, 
6897, 6680, 1592, 9771, 4084, 3778, 6413, 339, 2354, 1876, 5313, 449, 2062, 5516, 1803, 8316, 672, 744, 5217, 9298, 4692, 6464, 5965, 1452, 8588, 
2041, 4785, 1519, 6661, 5081, 5741, 4252, 150, 9668, 829, 6883, 6691, 8096, 437, 6691, 5084, 9711, 7943, 6630, 6357, 2439, 4770, 65, 2719, 3871, 5087, 
451, 3686, 3685, 5970, 6375, 5579, 8264, 9078, 8702, 502, 7606, 4346, 3546, 6501, 1018, 2373, 3199, 2260, 6271, 5902, 5604, 2763, 6806, 399, 3614, 5894, 
9879, 8282, 4588, 5755, 570, 5561, 4468, 1928, 1681, 2081, 7888, 3497, 1536, 4016, 3429, 3374, 9153, 2542, 6439, 6631, 3807, 4319, 4463, 8074, 2181, 
5373, 9539, 9496, 472, 1358, 232, 7111, 4768, 957, 5922, 9944, 2824, 9609, 2504, 5804, 6507, 9728, 1630, 5842, 2797, 3038, 8343, 9368, 4818, 5125, 7602,
4964, 5180, 2675, 7530, 8538, 1928, 2239, 9295, 3642, 6082, 9422, 5925, 140, 5099, 5122, 9170, 6314, 5025, 9866, 2608, 157, 2821, 7687, 1293, 1948, 
9961, 902, 3731, 2926, 9782, 5633, 8140, 8993, 2931, 7450, 8916, 8213, 8150, 6088, 8177, 1816, 8993, 3734, 548, 3418, 9478, 6603, 4046, 8313, 4636, 6547,
7011, 6826, 40, 618, 2270, 9752, 3158, 7352, 1286, 3901, 740, 2653, 5695, 9843, 8749, 4075, 7444, 4967, 9192, 4449, 6103, 6003, 7653, 6559, 3436, 8345,
6148, 696, 2297, 6725, 2073, 5897, 161, 2553, 7464, 7424, 1283, 6010, 9238, 2967, 9636, 3986, 9274, 9535, 8765, 2605, 9000, 8924, 693, 2488, 8346, 
1729, 9929, 8335, 8844, 344, 245, 7703, 1732, 3904, 5478, 4490, 6551, 5585, 1934, 4830, 435, 2028, 3729, 3373, 3053, 5530, 6643, 1598, 7058, 5581, 
6095, 1876, 9639, 6251, 5907, 1927, 9352, 1408, 3524, 5103, 9537, 9292, 2444, 7423, 7633, 202, 6176, 7989, 2918, 7495, 3048, 3911, 3422, 421, 8759, 
3510, 8307, 9828, 2476, 5627, 9450, 6222, 9500, 6580, 2254, 9369, 7706, 655, 3216, 3960, 9328, 3905, 731, 6311, 4448, 5895, 3661, 720, 9581, 3260, 
8147, 7219, 6339, 4965, 7468, 9205, 7099, 7552, 9797, 7877, 2962, 8592, 2374, 5163, 4259, 6872, 2068, 7962, 2576, 6267, 5981, 5164, 5615, 341, 8559,
7991, 8616, 9092, 474, 1383, 2762, 439, 5017, 4207, 6687, 7312, 8563, 8677, 9706, 1901, 5604, 7070, 1118, 6425, 6674, 5750, 384, 9797, 3965, 1264, 
9113, 6888, 1629, 9801, 3953, 1695, 6562, 5715, 6025, 8170, 4891, 3086, 4996, 7249, 3518, 2324, 2864, 2712, 2784, 3687, 459, 572, 3844, 6727, 4094,
5914, 1218, 7177, 710, 6624, 4494, 3526, 6199, 424, 5385, 7102, 7841, 2190, 5886, 7262, 2553, 1833, 6303, 8211, 1204, 5037, 9437, 613, 1781, 5019,
5707, 9401, 8169, 5543, 4263, 5401, 7568, 2694, 5185, 9547, 3643, 9306, 1309, 4752, 5438, 8673, 1771, 8243, 1312, 1655, 8026, 4031, 3777, 1158, 
5691, 4631, 6069, 9667, 4214, 3346, 8830, 3399, 4275, 9718, 7022, 2361, 4291, 4990, 5080, 1236, 1172, 2285, 4023, 4604, 5457, 2279, 8264, 4164, 
8900, 2161, 9508, 2397, 1741, 3177, 8695, 5350, 5642, 1660, 9975, 5808, 7724, 2096, 934, 6209, 9022, 3530, 6501, 8250, 2356, 389, 139, 165, 3672,
9351, 3438, 7650, 4455, 3637, 9089, 8234, 156, 3930, 8926, 7698, 4537, 6101, 2100, 6084, 6676, 6409, 8937, 8824, 9520, 3775, 2261, 7657, 8432,
2793, 4829, 9160, 9758, 8097, 1330, 4039, 8915, 7367, 4071, 7058, 3858, 9051, 2149, 5273, 3260, 5986, 2491, 16, 8498, 2255, 4017, 4980, 3950, 5,
1158, 6855, 2241, 1629, 2681, 9973, 375, 6006, 4424, 9539, 3275, 6906, 1959, 5642, 9253, 8112, 6496, 2799, 165, 5538, 5996, 2041, 6413, 6649, 
6147, 4030, 4173, 7528, 6560, 6437, 1611, 5680, 959, 5169, 5251, 2951, 4465, 1134, 8345, 3132, 5009, 5479, 4760, 8090, 6901, 4436, 2094, 7884,
3684, 9282, 2457, 8639, 8689, 8442, 4511, 2871, 5832, 9441, 2250, 9968, 6356, 8207, 6447, 4165, 6075, 231, 3915, 2839, 4175, 2272, 3232, 7499, 
214, 8073, 9234, 9119, 7386, 5313, 4950, 7365, 4535, 1609, 2871, 7994, 3236, 3105, 3559, 5342, 5954, 7858, 1178, 3621, 6911, 2509, 7379, 8958,
7478, 3939, 541, 8657, 7554, 6329, 4303, 8973, 6923, 8055, 2423, 717, 6568, 1978, 7081, 2708, 3805, 9716, 9916, 6319, 7138, 667, 9977, 8450, 
7737, 1491, 938, 2101, 3353, 6097, 4454, 5641, 2317, 3554, 6491, 3408, 8060, 1824, 4094, 2444, 2194, 6559, 6852, 1057, 5315, 7655, 4136, 6435,
969]

    start = time.perf_counter()
    main(unsort_list)
    print(time.perf_counter()-start)
